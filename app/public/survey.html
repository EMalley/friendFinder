<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>FriendFinder | Survey</title>
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <!-- Font Awesome Glyphicons -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
</head>

<body>
    <div class="container">
        <h1>Survey Questions</h1>
        <hr>

        <h3>About You</h3>
        <h4>Name (Required)</h4>
        <input type="text" id="name" class="form-control" required>

        <h4>Link to Photo Image (Required)</h4>
        <input type="text" id="photo" class="form-control" required>
        <hr>
        <!-- ====================================================================================================================================== -->
        <h3><strong>Question 1</h3>
        <p>Do you consider yourself to be an outgoing person?</p>
        <div class="form-check">
            <ul>
                <input class="form-check-input" type="radio" name="q1" id="exampleRadios1" value="1" checked>
                <label class="form-check-label" for="exampleRadios1">
                    1(Strongly Disagree)
                </label>
            </ul>
            <ul>
                <input class="form-check-input" type="radio" name="q1" id="exampleRadios1" value="2" checked>
                <label class="form-check-label" for="exampleRadios1">
                    2
                </label>
            </ul>
            <ul>
                <input class="form-check-input" type="radio" name="q1" id="exampleRadios1" value="3" checked>
                <label class="form-check-label" for="exampleRadios1">
                    3
                </label>
            </ul>
            <ul>
                <input class="form-check-input" type="radio" name="q1" id="exampleRadios1" value="4" checked>
                <label class="form-check-label" for="exampleRadios1">
                    4
                </label>
            </ul>
            <ul>
                <input class="form-check-input" type="radio" name="q1" id="exampleRadios1" value="5" checked>
                <label class="form-check-label" for="exampleRadios1">
                    5(Strongly Agree)
                </label>
            </ul>
        </div>
        <hr>
        <!-- ====================================================================================================================================== -->
        <h3><strong>Question 2</h3>
        <p>Do you like people who are spontaneous?</p>
        <div class="form-check">
            <ul>
                <input class="form-check-input" type="radio" name="q2" id="exampleRadios1" value="1" checked>
                <label class="form-check-label" for="exampleRadios1">
                    1(Strongly Disagree)
                </label>
            </ul>
            <ul>
                <input class="form-check-input" type="radio" name="q2" id="exampleRadios1" value="2" checked>
                <label class="form-check-label" for="exampleRadios1">
                    2
                </label>
            </ul>
            <ul>
                <input class="form-check-input" type="radio" name="q2" id="exampleRadios1" value="3" checked>
                <label class="form-check-label" for="exampleRadios1">
                    3
                </label>
            </ul>
            <ul>
                <input class="form-check-input" type="radio" name="q2" id="exampleRadios1" value="4" checked>
                <label class="form-check-label" for="exampleRadios1">
                    4
                </label>
            </ul>
            <ul>
                <input class="form-check-input" type="radio" name="q2" id="exampleRadios1" value="5" checked>
                <label class="form-check-label" for="exampleRadios1">
                    5(Strongly Agree)
                </label>
            </ul>
        </div>
        <hr>
        <!-- ====================================================================================================================================== -->
        <h3><strong>Question 3</h3>
        <p>Do you enjoy Animals?</p>
        <div class="form-check">
            <ul>
                <input class="form-check-input" type="radio" name="q3" id="exampleRadios1" value="1" checked>
                <label class="form-check-label" for="exampleRadios1">
                    1(Strongly Disagree)
                </label>
            </ul>
            <ul>
                <input class="form-check-input" type="radio" name="q3" id="exampleRadios1" value="2" checked>
                <label class="form-check-label" for="exampleRadios1">
                    2
                </label>
            </ul>
            <ul>
                <input class="form-check-input" type="radio" name="q3" id="exampleRadios1" value="3" checked>
                <label class="form-check-label" for="exampleRadios1">
                    3
                </label>
            </ul>
            <ul>
                <input class="form-check-input" type="radio" name="q3" id="exampleRadios1" value="4" checked>
                <label class="form-check-label" for="exampleRadios1">
                    4
                </label>
            </ul>
            <ul>
                <input class="form-check-input" type="radio" name="q3" id="exampleRadios1" value="5" checked>
                <label class="form-check-label" for="exampleRadios1">
                    5(Strongly Agree)
                </label>
            </ul>
        </div>
        <hr>
        <!-- ====================================================================================================================================== -->
        <h3><strong>Question 4</h3>
        <p>Are you okay with someone putting pineapple on pizza?</p>
        <div class="form-check">
            <ul>
                <input class="form-check-input" type="radio" name="q4" id="exampleRadios1" value="1" checked>
                <label class="form-check-label" for="exampleRadios1">
                    1(Strongly Disagree)
                </label>
            </ul>
            <ul>
                <input class="form-check-input" type="radio" name="q4" id="exampleRadios1" value="2" checked>
                <label class="form-check-label" for="exampleRadios1">
                    2
                </label>
            </ul>
            <ul>
                <input class="form-check-input" type="radio" name="q4" id="exampleRadios1" value="3" checked>
                <label class="form-check-label" for="exampleRadios1">
                    3
                </label>
            </ul>
            <ul>
                <input class="form-check-input" type="radio" name="q4" id="exampleRadios1" value="4" checked>
                <label class="form-check-label" for="exampleRadios1">
                    4
                </label>
            </ul>
            <ul>
                <input class="form-check-input" type="radio" name="q4" id="exampleRadios1" value="5" checked>
                <label class="form-check-label" for="exampleRadios1">
                    5(Strongly Agree)
                </label>
            </ul>
        </div>
        <hr>
        <!-- ====================================================================================================================================== -->
        <h3><strong>Question 5</h3>
        <p>The best way to find someone is to use this dating app.</p>
        <div class="form-check">
            <ul>
                <input class="form-check-input" type="radio" name="q5" id="exampleRadios1" value="1">
                <label class="form-check-label" for="exampleRadios1">
                    1(Strongly Disagree)
                </label>
            </ul>
            <ul>
                <input class="form-check-input" type="radio" name="q5" id="exampleRadios1" value="2">
                <label class="form-check-label" for="exampleRadios1">
                    2
                </label>
            </ul>
            <ul>
                <input class="form-check-input" type="radio" name="q5" id="exampleRadios1" value="3">
                <label class="form-check-label" for="exampleRadios1">
                    3
                </label>
            </ul>
            <ul>
                <input class="form-check-input" type="radio" name="q5" id="exampleRadios1" value="4">
                <label class="form-check-label" for="exampleRadios1">
                    4
                </label>
            </ul>
            <ul>
                <input class="form-check-input" type="radio" name="q5" id="exampleRadios1" value="5">
                <label class="form-check-label" for="exampleRadios1">
                    5(Strongly Agree)
                </label>
            </ul>
        </div>
        <br><br>

        <!-- Modal for matches -->
        <div class="modal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title"></h4>
                    </div>
                    <div class="modal-body text-center">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- ====================================================================================================================================== -->
        <!-- Submit Button -->
        <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fa fa-check-circle"
                aria-hidden="true"></i>Submit</button>
    </div>

    <script type="text/javascript">
        $("#submit").on('click', function (event) {
            event.preventDefault();
            // Local Variables
            var matchStatus = $('.modal-title');
            var modalBody = $('.modal-body')
            // look for selected values in the questions/ photos and names
            var name = $('#name').val().trim();
            var photo = $('#photo').val();
            var q1 = parseInt($('input[name="q1"]:checked').val());
            var q2 = parseInt($('input[name="q2"]:checked').val());
            var q3 = parseInt($('input[name="q3"]:checked').val());
            var q4 = parseInt($('input[name="q4"]:checked').val());
            var q5 = parseInt($('input[name="q5"]:checked').val());

            matchData = {
                name: name,
                photo: photo,
                scores: [q1, q2, q3, q4, q5]
            };

            if (
                (name !== '') && (photo !== '') && !isNaN(q1) && !isNaN(q2) && !isNaN(q3) && !isNaN(q4) && !isNaN(q5)
            ){

                var currentURL = window.location.origin;
                // Ajax call to POST to Friends API
                $.post(currentURL + "/api/friends", matchData, function (data) {
                    // alert("data sent")
                    if (data.name !== undefined) {
                        matchStatus.html('Your Match');
                        modalBody.html('<p>is ' + data.name + '</p><img src="' + data.photo + '" height= 200px">');
                    } else {
                        matchStatus.html("Not enought Data");
                        modalBody.html("<p>Please double check and fill out the entire form</p>");
                    }
                })
            }
            $('.modal').modal('toggle')

        });
        
        
    </script>
</body>

</html>